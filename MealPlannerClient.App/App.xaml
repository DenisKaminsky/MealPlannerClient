<?xml version = "1.0" encoding = "UTF-8" ?>
<Application xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="using:MealPlannerClient.App"
             xmlns:app="clr-namespace:MealPlannerClient.App"
             x:Class="MealPlannerClient.App.App">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Resources/Styles/Colors.xaml" />
                <ResourceDictionary Source="Resources/Styles/Styles.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <ControlTemplate x:Key="MainLayoutTemplate">
                <Grid RowDefinitions="Auto,*, Auto" ColumnDefinitions="Auto,*,Auto">
                    <!-- Header Section -->
                    <Border Grid.Row="0" Grid.ColumnSpan="2" Stroke="Black" StrokeThickness="5">
                        <Grid>
                            <BoxView HeightRequest="60" Color="Orange" />
                            <Label Text="{TemplateBinding Title}" 
                                   VerticalOptions="Center" 
                                   HorizontalOptions="Center" 
                                   TextColor="White" 
                                   FontSize="24" />
                        </Grid>
                    </Border>


                    <!-- Side Menu Section -->
                    <BoxView Grid.RowSpan="2" Grid.Row="1" Grid.Column="0" Color="Orange" WidthRequest="200" />
                    <StackLayout Grid.Row="1" Grid.Column="0" VerticalOptions="Start" Padding="10" Spacing="20">
                        <Button 
                            Text="Inventory" 
                            Command="{Binding ChangeContentCommand, Source={x:Static app:App.MainViewModel}}" 
                            CommandParameter="inventory"
                            ImageSource="box.png"
                            HeightRequest="50"/>

                        <Button 
                            Text="Page 2" 
                            Command="{Binding ChangeContentCommand, Source={x:Static app:App.MainViewModel}}" 
                            CommandParameter="Page2"/>
                    </StackLayout>


                    <!-- Content Section-->
                    <ContentPresenter Grid.Row="1" Grid.Column="1" Content="{Binding CurrentPage, Mode=TwoWay}" />


                    <!-- Footer Section-->
                    <StackLayout Grid.Row="2" Grid.Column="0" VerticalOptions="Center" Padding="10">
                        <Button 
                            Text="Settings" 
                            Command="{Binding ChangeContentCommand}" 
                            CommandParameter="SettingsPage" 
                            ImageSource="setting.png"
                            HeightRequest="50"/>
                    </StackLayout>
                </Grid>
            </ControlTemplate>

        </ResourceDictionary>
    </Application.Resources>
</Application>
